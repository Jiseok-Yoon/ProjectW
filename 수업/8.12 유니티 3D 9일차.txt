UIWindow 등록

인스턴스 딕셔너리에 등록할 때 캐스팅해서 등록하기.
                cachedInstanceDic.Add(key, (T)Convert.ChangeType(cachedTotalUIWindowDic[key], typeof(T)));

게임 매니저에서 씬 로드
동기와 비동기

동기 방식은 과정이 다 처리되기 전까지 화면이 멈춤.

IEnumerator
로드 씬에서 코루틴 사용하려고 함.


            // 코루틴 -> 유니티에서 특정 작업을 비동기로 실행할 수 있게 해주는 기능
            // 비동기처럼 실행 되지만 실제로 비동기는 아님 완전히 다른 쓰레드에서 실행되는게 아님.
            // 코루틴이 있는 것은 원래 비동기 작업 할 때 C#에서는 별도의 스레드를 만들어서 다른 연산을 동시에 진행함.
            // 그런데 C# 스레드 이용해서 비동기 작업하면 유니티의 모노를 갖는 클래스들, 기능들을 C#에서는 정상호출이 불가함
            // 그래서 유니티에서 비동기 작업을 할 수 있게 코루틴을 지원함.
            // 


로딩시 사용할 데이터 작성.

                // 내가 변경하고자 하는 씬을 추가
                // 추가인 이유는 유니티에서 일반적으로 씬을 하나만 가지고 있어서 원래 씬을 비활성화하고 씬을 불러오기 때문.
                // 그런데 로딩시 하이라키에서 두개의 씬을 들고 있게 하고 화면에 보이는 것은 로딩 씬으로 할 것. 인게임은 비활성화로 놔두고.

                SceneManager.LoadSceneAsync(sceneName.ToString(), LoadSceneMode.Additive);

LoadSceneMode가 원래는 싱글임.

// 방금 추가한 씬을 비활성화
                // 2개의 씬이 활성화되어있다면 따로 컨트롤 하지 않는 이상 어떤 씬이 화면에 보일지 모름
                // 실제 변경하고자 하는 씬을 추가해둔 다음 사용자에게는 로딩 씬을 보여주고
                // 실제 변경하고자 하는 씬에 필요한 리소스등을 부르는 작업을 하기 위해서
                asyncOper.allowSceneActivation = false;
                // 두번째 파라미터 로드 코루틴이 내가 원하는 인게임 씬으로 작업하기 위해 필요한 작업.

StageManager 생성

스테이지 매니저에 ChangeStage 메소드가 아까 게임 매니저에서 Async 로딩할때 들어가는 코루틴.

예전에 만들어둔 스테이지 관련 데이터를 기획 데이터 폴더에 엑셀 시트로 만들기.

엑셀 시트에서 spawnArea는 에디터 하이라키상에 존재함.

기획 데이터 추가됐으니 이제 데이터셋 만들고 스태틱 모듈에도 추가해야 함.


